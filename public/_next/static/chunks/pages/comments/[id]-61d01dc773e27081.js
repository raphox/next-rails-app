(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{8281:(t,e,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/comments/[id]",function(){return s(5634)}])},7122:(t,e,s)=>{"use strict";s.d(e,{A:()=>n});var i=s(4848);function n(t){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"post:"})," ",t.post?"".concat(t.post.title," - ").concat(t.post.id):"Loading..."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"message:"})," ",t.message]})]})}s(6540)},5634:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>m});var i=s(4848);s(6540);var n=s(1106),r=s.n(n),o=s(6715),u=s(6424),a=s(7665),c=s(2309),h=s(5072),l=s(9636),d=s(7122);function m(){let t=(0,o.useRouter)(),e=(0,u.useParams)(),s=(0,u.useSearchParams)(),n=(0,a.jE)(),m=s.get("notice"),p=null==e?void 0:e.id,{isPending:b,mutate:v}=(0,c.n)({mutationFn:t=>l.F.delete("/comments/".concat(p),t),onSuccess:()=>{n.invalidateQueries({queryKey:["comments"]}),t.replace({pathname:"/comments",query:{notice:"Removed with success."}})}}),{isPending:f,error:y,data:O}=(0,h.I)({queryFn:()=>l.F.get("/comments/".concat(p)).then(t=>t.data),queryKey:["comments",p],enabled:!!p});return f?"Loading...":y?"An error has occurred: "+y.message:(0,i.jsxs)(i.Fragment,{children:[m&&(0,i.jsx)("p",{style:{color:"green"},children:m}),(0,i.jsx)(d.A,{...O}),(0,i.jsxs)("div",{children:[(0,i.jsx)(r(),{href:"/comments/".concat(p,"/edit"),children:"Edit this comment"})," | ",(0,i.jsx)(r(),{href:"/comments",children:"Back to comments"})," ",(0,i.jsx)("button",{disabled:b,onClick:()=>v(p),children:"Destroy this comment"})]})]})}},9636:(t,e,s)=>{"use strict";s.d(e,{F:()=>r});var i=s(4335),n=s(7836);let r=i.A.create({baseURL:n.env.NEXT_PUBLIC_API_URL,timeout:5e3,headers:{Accept:"application/json"}});r.interceptors.request.use(function(t){return t.params={...t.params,token:"***"},t},function(t){return 401===t.response.status&&(window.location.href=n.env.NEXT_PUBLIC_API_URL||"/"),Promise.reject(t)})},6715:(t,e,s)=>{t.exports=s(8440)},2309:(t,e,s)=>{"use strict";s.d(e,{n:()=>l});var i=s(6540),n=s(6158),r=s(6261),o=s(6500),u=s(4880),a=class extends o.Q{#t;#e=void 0;#s;#i;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,u.f8)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,u.EN)(e.mutationKey)!==(0,u.EN)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#r(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#r()}mutate(t,e){return this.#i=e,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#n(){let t=this.#s?.state??(0,n.$)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#r(t){r.j.batch(()=>{if(this.#i&&this.hasListeners()){let e=this.#e.variables,s=this.#e.context;t?.type==="success"?(this.#i.onSuccess?.(t.data,e,s),this.#i.onSettled?.(t.data,null,e,s)):t?.type==="error"&&(this.#i.onError?.(t.error,e,s),this.#i.onSettled?.(void 0,t.error,e,s))}this.listeners.forEach(t=>{t(this.#e)})})}},c=s(7665),h=s(4362);function l(t,e){let s=(0,c.jE)(e),[n]=i.useState(()=>new a(s,t));i.useEffect(()=>{n.setOptions(t)},[n,t]);let o=i.useSyncExternalStore(i.useCallback(t=>n.subscribe(r.j.batchCalls(t)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),u=i.useCallback((t,e)=>{n.mutate(t,e).catch(h.l)},[n]);if(o.error&&(0,h.G)(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}}},t=>{var e=e=>t(t.s=e);t.O(0,[515,424,72,636,593,792],()=>e(8281)),_N_E=t.O()}]);