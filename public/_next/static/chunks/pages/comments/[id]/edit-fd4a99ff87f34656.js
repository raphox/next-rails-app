(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{5878:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/comments/[id]/edit",function(){return t(6716)}])},4016:(e,s,t)=>{"use strict";t.d(s,{A:()=>p,L:()=>m});var n=t(4848);t(6540);var r=t(9785),i=t(8871),o=t(4476),a=t(4820),c=t(5072),d=t(9636);let l=e=>{let s,{name:t="post_id",apiEndpoint:i="/posts"}=e,{control:o}=(0,r.xW)(),{isPending:l,error:u,data:m}=(0,c.I)({queryFn:()=>d.F.get(i).then(e=>e.data),queryKey:["posts-options"]});return u?s=[{value:"",label:"An error has occurred"}]:m&&(s=m.map(e=>({value:e.id,label:"".concat(e.title," - ").concat(e.id)}))),(0,n.jsx)(r.xI,{control:o,name:t,render:e=>{let{field:{onChange:r,onBlur:i,value:o,ref:c}}=e;return(0,n.jsx)(a.Ay,{id:t,ref:c,onBlur:i,options:s,isDisabled:l,placeholder:l?"Loading...":"Select a post",value:null==s?void 0:s.find(e=>e.value===o),onChange:e=>r(String(null==e?void 0:e.value))})}})},u=o.Ik({post_id:o.Yj(),message:o.Yj()}),m=(0,i.u)(u);function p(){let{register:e,getValues:s,formState:{errors:t}}=(0,r.xW)(),i=s("post_id");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"post_id",children:"Post:"}),(0,n.jsx)(l,{apiEndpoint:"/posts?include_ids[]=".concat(i),...e("post_id")}),t.post_id&&(0,n.jsx)("span",{children:t.post_id.message})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("label",{htmlFor:"message",children:"Message:"}),(0,n.jsx)("input",{type:"text",...e("message")}),t.message&&(0,n.jsx)("span",{children:t.message.message})]})]})}},6716:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var n=t(4848);t(6540);var r=t(1106),i=t.n(r),o=t(6424),a=t(7665),c=t(2309),d=t(5072),l=t(9636),u=t(528),m=t(4016);function p(){let e=(0,o.useParams)(),s=(0,a.jE)(),t=null==e?void 0:e.id,{isPending:r,isSuccess:p,mutateAsync:h}=(0,c.n)({mutationFn:e=>l.F.put("/comments/".concat(t),e),onSuccess:()=>{s.invalidateQueries({queryKey:["comments"]})}}),{isPending:j,error:x,data:_}=(0,d.I)({queryFn:()=>l.F.get("/comments/".concat(t)).then(e=>e.data),queryKey:["comments",t],enabled:!!t});return j?"Loading...":x?"An error has occurred: "+x.message:(0,n.jsxs)(n.Fragment,{children:[p&&(0,n.jsx)("p",{style:{color:"green"},children:"Updated with success."}),(0,n.jsx)("h1",{children:"Editing comment"}),(0,n.jsxs)(u.O,{resolver:m.L,values:_,onSubmit:h,children:[(0,n.jsx)(m.A,{}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{disabled:r,type:"submit",children:"Update"})})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)(i(),{href:"/comments/".concat(t),children:"Show this comment"})," | ",(0,n.jsx)(i(),{href:"/comments",children:"Back to comments"})]})]})}},9636:(e,s,t)=>{"use strict";t.d(s,{F:()=>i});var n=t(4335),r=t(7836);let i=n.A.create({baseURL:r.env.NEXT_PUBLIC_API_URL,timeout:5e3,headers:{Accept:"application/json"}});i.interceptors.request.use(function(e){return e.params={...e.params,token:"***"},e},function(e){return 401===e.response.status&&(window.location.href=r.env.NEXT_PUBLIC_API_URL||"/"),Promise.reject(e)})}},e=>{var s=s=>e(e.s=s);e.O(0,[515,424,72,190,820,636,593,792],()=>s(5878)),_N_E=e.O()}]);