(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{9837:(t,e,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/[id]",function(){return s(4303)}])},9647:(t,e,s)=>{"use strict";s.d(e,{A:()=>r});var i=s(4848);function r(t){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"title:"})," ",t.title]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"body:"})," ",t.body]})]})}s(6540)},4303:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>p});var i=s(4848);s(6540);var r=s(1106),n=s.n(r),o=s(6715),u=s(6424),a=s(7665),c=s(2309),h=s(5072),l=s(9636),d=s(9647);function p(){let t=(0,o.useRouter)(),e=(0,u.useParams)(),s=(0,u.useSearchParams)(),r=(0,a.jE)(),p=s.get("notice"),m=null==e?void 0:e.id,{isPending:b,mutate:v}=(0,c.n)({mutationFn:t=>l.F.delete("/posts/".concat(m),t),onSuccess:()=>{r.invalidateQueries({queryKey:["posts"]}),t.replace({pathname:"/posts",query:{notice:"Removed with success."}})}}),{isPending:f,error:y,data:O}=(0,h.I)({queryFn:()=>l.F.get("/posts/".concat(m)).then(t=>t.data),queryKey:["posts",m],enabled:!!m});return f?"Loading...":y?"An error has occurred: "+y.message:(0,i.jsxs)(i.Fragment,{children:[p&&(0,i.jsx)("p",{style:{color:"green"},children:p}),(0,i.jsx)(d.A,{...O}),(0,i.jsxs)("div",{children:[(0,i.jsx)(n(),{href:"/posts/".concat(m,"/edit"),children:"Edit this post"})," | ",(0,i.jsx)(n(),{href:"/posts",children:"Back to posts"})," ",(0,i.jsx)("button",{disabled:b,onClick:()=>v(m),children:"Destroy this post"})]})]})}},9636:(t,e,s)=>{"use strict";s.d(e,{F:()=>n});var i=s(4335),r=s(7836);let n=i.A.create({baseURL:r.env.NEXT_PUBLIC_API_URL,timeout:5e3,headers:{Accept:"application/json"}});n.interceptors.request.use(function(t){return t.params={...t.params,token:"***"},t},function(t){return 401===t.response.status&&(window.location.href=r.env.NEXT_PUBLIC_API_URL||"/"),Promise.reject(t)})},6715:(t,e,s)=>{t.exports=s(8440)},2309:(t,e,s)=>{"use strict";s.d(e,{n:()=>l});var i=s(6540),r=s(6158),n=s(6261),o=s(6500),u=s(4880),a=class extends o.Q{#t;#e=void 0;#s;#i;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,u.f8)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,u.EN)(e.mutationKey)!==(0,u.EN)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#n(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#n()}mutate(t,e){return this.#i=e,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#r(){let t=this.#s?.state??(0,r.$)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#n(t){n.j.batch(()=>{if(this.#i&&this.hasListeners()){let e=this.#e.variables,s=this.#e.context;t?.type==="success"?(this.#i.onSuccess?.(t.data,e,s),this.#i.onSettled?.(t.data,null,e,s)):t?.type==="error"&&(this.#i.onError?.(t.error,e,s),this.#i.onSettled?.(void 0,t.error,e,s))}this.listeners.forEach(t=>{t(this.#e)})})}},c=s(7665),h=s(4362);function l(t,e){let s=(0,c.jE)(e),[r]=i.useState(()=>new a(s,t));i.useEffect(()=>{r.setOptions(t)},[r,t]);let o=i.useSyncExternalStore(i.useCallback(t=>r.subscribe(n.j.batchCalls(t)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),u=i.useCallback((t,e)=>{r.mutate(t,e).catch(h.l)},[r]);if(o.error&&(0,h.G)(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}}},t=>{var e=e=>t(t.s=e);t.O(0,[515,424,72,636,593,792],()=>e(9837)),_N_E=t.O()}]);